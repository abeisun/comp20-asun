<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Captain's Log</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        // Your work will be done here...
        function store(){
            localStorage.setItem("msg", JSON.stringify(storedValues));
        }
        function print(){
            var output = ''; 
            for (var key in localStorage) {
                output = "<br />"+output+ "<br />"+(localStorage[key])+ "<br />";
            }
            $("#log").html(output); 

            $('#DivToPrintOut').html(output);

        }

        $(document).ready(function(){
            storedValues = JSON.parse(localStorage.getItem("msg")) || [];
            //$("#log").html(storedValues);
            print();
            $("#msg").keypress(function(e){
                //callback(storedValues)
                //var storedValues = [];
                console.log(storedValues);
                if(e.which == 13){
                    input = Date() + " - " + document.getElementById("msg").value;
                    //$("#log").html(output);
                    $("#msg").val("");
                    storedValues.unshift(input);
                    store();
                    $("#log").html("");
                    print();
                    //document.getElementById("textfield2").value = "";
                }
            });
        });
    </script>
</head>

<body>
    <h1>Captain's Log</h1>
    <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
    <div id="log"></div>
</body>
</html>
